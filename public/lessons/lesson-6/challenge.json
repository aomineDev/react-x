{
  "type": "code",
  "markdownUrl": "/lessons/lesson-6/content.md",
  "files": {
    "/App.js": "import React, { useState } from 'react';\n\nfunction App() {\n  const [contador, setContador] = useState(0);\n  const [mensajes, setMensajes] = useState([]);\n  \n  // TODO: Implementa un useEffect que:\n  // 1. Agregue un mensaje al array cada vez que el contador cambie\n  // 2. El mensaje debe decir: \"Contador cambió a: X\"\n  \n  // TODO: Implementa un useEffect que:\n  // 1. Se ejecute solo una vez al montar\n  // 2. Agregue el mensaje: \"Componente montado\"\n  \n  const incrementar = () => {\n    setContador(contador + 1);\n  };\n  \n  return (\n    <div style={{ padding: '20px' }}>\n      <h1>Contador: {contador}</h1>\n      <button onClick={incrementar}>Incrementar</button>\n      \n      <div style={{ marginTop: '20px' }}>\n        <h2>Historial:</h2>\n        <ul>\n          {mensajes.map((msg, index) => (\n            <li key={index}>{msg}</li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default App;"
  },
  "testFiles": {
    "/App.test.js": "import { render, screen, fireEvent } from '@testing-library/react';\nimport '@testing-library/jest-dom';\nimport App from './App';\n\ntest('renderiza el contador inicial en 0', () => {\n  render(<App />);\n  expect(screen.getByRole('heading', { name: /contador: 0/i })).toBeInTheDocument();\n});\n\ntest('muestra el botón incrementar', () => {\n  render(<App />);\n  const button = screen.getByRole('button', { name: /incrementar/i });\n  expect(button).toBeInTheDocument();\n});\n\ntest('incrementa el contador al hacer clic', () => {\n  render(<App />);\n  const button = screen.getByRole('button', { name: /incrementar/i });\n  \n  fireEvent.click(button);\n  expect(screen.getByRole('heading', { name: /contador: 1/i })).toBeInTheDocument();\n});\n\ntest('muestra el mensaje de componente montado', () => {\n  render(<App />);\n  expect(screen.getByText(/componente montado/i)).toBeInTheDocument();\n});\n\ntest('agrega mensaje al historial cuando cambia el contador', () => {\n  render(<App />);\n  const button = screen.getByRole('button', { name: /incrementar/i });\n  \n  fireEvent.click(button);\n  expect(screen.getByText(/contador cambió a: 1/i)).toBeInTheDocument();\n});\n\ntest('muestra múltiples mensajes en el historial', () => {\n  render(<App />);\n  const button = screen.getByRole('button', { name: /incrementar/i });\n  \n  fireEvent.click(button);\n  fireEvent.click(button);\n  \n  expect(screen.getByText(/contador cambió a: 1/i)).toBeInTheDocument();\n  expect(screen.getByText(/contador cambió a: 2/i)).toBeInTheDocument();\n});\n\ntest('usa useEffect correctamente', () => {\n  const code = App.toString();\n  expect(code).toMatch(/useEffect/);\n});\n\ntest('el mensaje de montado aparece solo una vez', () => {\n  render(<App />);\n  const button = screen.getByRole('button', { name: /incrementar/i });\n  \n  fireEvent.click(button);\n  fireEvent.click(button);\n  \n  const mensajesMontado = screen.getAllByText(/componente montado/i);\n  expect(mensajesMontado).toHaveLength(1);\n});"
  },
  "next": "/lesson/7/1",
  "showTest": false
}
